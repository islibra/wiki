---
title: 数据库中间件
---

# 垂直拆分

不同表分到不同库

典型场景：服务化改造SOA，缺点：单个请求响应时间变长，因为增加了RPC调用。优点，整个服务吞吐量增加。

# 读写分离

数据库变为主从master-slave

# 水平拆分

将同一个表中的记录分库分表

## 涉及难点

- 解析SQL -> 路由 -> SQL改写 -> SQL执行 -> 结果集合并
- 全局序列号
- 分布式事务
- 动态扩容
